import { useAnswersState } from '@yext/answers-headless-react';
import { useState } from 'react';
import Facets from './Facets';
import MobileFilterButton from './MobileFilterButton';
import { Divider } from './StaticFilters';
// import { ReactComponent as BoxingIcon } from '../icons/boxing.svg';
// import { ReactComponent as YogaIcon } from '../icons/yoga.svg';
// import { ReactComponent as HiitIcon } from '../icons/hiit.svg';
// import { ReactComponent as StrengthIcon } from '../icons/strength.svg';

function BoxingIcon(): JSX.Element {
  return (
    <svg width="80" height="100" viewBox="0 0 53 53" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M53 20.1148C53 12.502 52.2382 5.66097 43.0353 5.56987L41.9248 5.55828C35.0292 5.47712 32.1796 5.44814 29.5255 9.61023C27.9662 12.0573 26.6371 15.812 28.0242 18.3402C28.9715 20.0676 30.9424 20.9429 33.8822 20.9429H42.9741C43.4494 21.0001 46.2203 21.2535 47.5428 19.5269C48.4595 18.3311 48.4264 16.5722 47.4459 14.299C47.2645 13.8792 46.7751 13.6862 46.3577 13.8676C45.9379 14.0489 45.7449 14.5358 45.9263 14.9557C46.4248 16.1093 46.8811 17.6636 46.231 18.5166C45.5445 19.4159 43.7699 19.3836 43.148 19.295C43.1082 19.2892 43.0676 19.2867 43.0279 19.2867H33.8822C31.5925 19.2867 30.1102 18.7004 29.4758 17.5435C28.5045 15.7714 29.5023 12.7297 30.9225 10.5005C33.0823 7.11513 35.1335 7.13997 41.9066 7.21368L43.0196 7.2261C48.5398 7.28075 51.343 9.28893 51.343 20.1148C51.343 27.273 47.9535 35.526 47.0608 37.5756H34.2946C32.2152 34.7666 28.1376 27.9438 30.8099 25.2723C31.807 24.2736 32.7982 23.8695 33.6106 24.1386C34.3095 24.3705 34.7029 25.028 34.7832 25.5779C34.8254 25.8661 34.8221 26.4019 34.3219 26.7513C32.9258 27.7285 32.9696 28.8423 33.0533 29.2754C33.2048 30.0605 33.8251 30.6898 34.6333 30.8795C35.5873 31.1055 36.5819 30.6849 37.2841 29.7599C37.5607 29.3963 37.4903 28.8763 37.1268 28.5997C36.7607 28.3239 36.2423 28.3943 35.9666 28.7578C35.666 29.1537 35.3173 29.3367 35.0109 29.2671C34.8379 29.2265 34.7087 29.1073 34.6797 28.9624C34.6333 28.7231 34.861 28.396 35.2718 28.1086C36.1554 27.49 36.586 26.4549 36.4229 25.3386C36.2341 24.0542 35.3356 22.966 34.1315 22.5669C33.3009 22.2911 31.6165 22.1255 29.639 24.1014C25.5763 28.1641 31.8881 37.1069 33.0541 38.6803V46.6343C33.0541 47.0914 33.4243 47.4624 33.8822 47.4624H47.5991C48.057 47.4624 48.4272 47.0914 48.4272 46.6343V38.585C49.0516 37.2079 53 28.1831 53 20.1148ZM46.771 39.2318V41.6905H34.7965C34.7658 41.6905 34.7401 41.7045 34.7103 41.7079V39.2318H46.771ZM34.7103 45.8062V43.3301C34.7401 43.3334 34.7658 43.3475 34.7965 43.3475H46.771V45.8062H34.7103Z"
        fill="white"
      />
      <path
        d="M11.0752 5.55745L9.96467 5.56905C0.761863 5.66097 0 12.502 0 20.1148C0 28.1831 3.94761 37.2079 4.57283 38.585V46.6343C4.57283 47.0914 4.94383 47.4624 5.40095 47.4624H19.1186C19.5766 47.4624 19.9467 47.0914 19.9467 46.6343V38.6803C21.1127 37.1069 27.4238 28.1641 23.3619 24.1014C21.386 22.1263 19.7 22.2911 18.8685 22.5669C17.6653 22.966 16.766 24.0533 16.578 25.3386C16.4148 26.4549 16.8446 27.4908 17.7291 28.1086C18.1398 28.396 18.3659 28.7239 18.3203 28.9624C18.2922 29.1065 18.1622 29.2265 17.9899 29.2671C17.6843 29.3375 17.334 29.1528 17.0343 28.7578C16.7577 28.3943 16.2376 28.3231 15.8741 28.6005C15.5105 28.8771 15.4402 29.3963 15.7159 29.7607C16.4198 30.6865 17.4086 31.1064 18.3675 30.8803C19.1758 30.6915 19.796 30.0621 19.9467 29.2771C20.0304 28.844 20.0743 27.7293 18.6789 26.7522C18.1787 26.4027 18.1754 25.8669 18.2176 25.5779C18.298 25.0288 18.6913 24.3705 19.3902 24.1395C20.1927 23.8703 21.1914 24.2736 22.1909 25.2731C24.8583 27.9413 20.784 34.7658 18.7062 37.5764H5.93756C5.04486 35.5277 1.65622 27.2805 1.65622 20.1148C1.65622 11.6217 2.94394 7.29566 9.98124 7.22527L11.0942 7.21285C17.8756 7.13832 19.9186 7.11347 22.0775 10.4996C23.4985 12.7281 24.4964 15.7706 23.525 17.5427C22.8898 18.6988 21.4075 19.2859 19.1186 19.2859H9.97295C9.93403 19.2859 9.89345 19.2884 9.85536 19.2942C9.22931 19.3811 7.45549 19.4142 6.77064 18.5157C6.11975 17.6628 6.57769 16.1084 7.07539 14.9549C7.25675 14.535 7.06297 14.0473 6.64394 13.8667C6.22161 13.6845 5.73633 13.8783 5.5558 14.2982C4.57449 16.5705 4.54219 18.3294 5.45891 19.526C6.78141 21.2518 9.55227 20.9993 10.0268 20.9421H19.1186C22.0584 20.9421 24.0302 20.066 24.9767 18.3394C26.3638 15.812 25.0338 12.0573 23.4745 9.6094C20.8204 5.44731 17.9667 5.47464 11.0752 5.55745ZM6.22906 45.8062V43.3475H18.2036C18.2342 43.3475 18.2607 43.3334 18.2897 43.3301V45.8062H6.22906ZM18.2897 39.2318V41.7079C18.2599 41.7045 18.2342 41.6905 18.2036 41.6905H6.22906V39.2318H18.2897Z"
        fill="white"
      />
    </svg>
  );
}

function YogaIcon(): JSX.Element {
  return (
    <svg width="80" height="100" viewBox="0 0 52 52" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M6.28875 49.3529C6.22375 49.3529 6.16038 49.3513 6.09538 49.348C6.045 49.3448 5.99463 49.3399 5.94263 49.335H1.625V48.165H3.79275C3.29225 47.5475 3.04525 46.774 3.09238 45.968C3.14275 45.1133 3.52138 44.33 4.15838 43.7645L18.915 29.0063V18.3138C18.915 15.8974 20.3596 13.793 22.555 12.8326C21.2144 11.7634 20.3743 10.0636 20.3743 8.27613C20.3743 5.18213 22.8897 2.66501 25.9837 2.66501C29.0777 2.66501 31.5949 5.18213 31.5949 8.27613C31.5949 9.84751 30.9465 11.349 29.8789 12.415H46.3125C47.9781 12.415 49.335 13.7703 49.335 15.4375C49.335 17.1048 47.9781 18.46 46.3125 18.46H31.46V28.665H38.0104C39.7735 28.665 41.21 30.1015 41.21 31.8663V46.3125C41.21 47.0096 40.9728 47.6531 40.573 48.165H50.375V49.3366H6.63162C6.51787 49.3464 6.4025 49.3529 6.28875 49.3529ZM38.1875 48.165C39.2096 48.165 40.04 47.3346 40.04 46.3125V31.8646C40.04 30.7466 39.13 29.835 38.012 29.835H30.875C30.5516 29.835 30.29 29.5734 30.29 29.25V17.875C30.29 17.5516 30.5516 17.29 30.875 17.29H46.3125C47.3346 17.29 48.165 16.458 48.165 15.4375C48.165 14.417 47.3346 13.585 46.3125 13.585H28.0215C27.7452 13.585 27.5064 13.3916 27.4495 13.1219C27.391 12.8521 27.5307 12.5791 27.7842 12.467C29.3637 11.7634 30.4233 10.0799 30.4233 8.27613C30.4233 5.82726 28.431 3.83501 25.9837 3.83501C23.5365 3.83501 21.5443 5.82726 21.5443 8.27613C21.5443 10.0783 22.6038 11.7634 24.1833 12.467C24.4156 12.5694 24.5538 12.8099 24.5261 13.0634C24.4985 13.3153 24.3132 13.5216 24.0646 13.5736C21.684 14.0774 20.085 15.9819 20.085 18.3154V29.25C20.085 29.406 20.0233 29.5555 19.9144 29.6644L4.96112 44.616C4.53375 44.9963 4.29325 45.4935 4.26075 46.0379C4.22825 46.5806 4.40863 47.1006 4.76775 47.5036C5.09275 47.8693 5.52988 48.1 6.01412 48.1634H6.56175C6.95825 48.1114 7.32875 47.9424 7.63263 47.6726L22.3486 33.6993C22.4575 33.5969 22.6021 33.5368 22.7516 33.5368H35.7516C36.075 33.5368 36.3366 33.7984 36.3366 34.1218V46.3093C36.335 47.3346 37.1654 48.165 38.1875 48.165ZM8.81075 48.165H35.8004C35.4022 47.6548 35.1634 47.0096 35.1634 46.3125V34.71H22.9824L8.81075 48.165ZM16.25 18.46H5.6875C4.02188 18.46 2.665 17.1048 2.665 15.4375C2.665 13.7703 4.02188 12.415 5.6875 12.415H17.875V13.585H5.6875C4.667 13.585 3.835 14.417 3.835 15.4375C3.835 16.458 4.667 17.29 5.6875 17.29H16.25V18.46Z"
        fill="white"
      />
    </svg>
  );
}

function HiitIcon(): JSX.Element {
  return (
    <svg width="80" height="100" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M41.9408 17.8851C41.8836 16.275 40.5551 15.0139 38.9164 15.0139H33.614L30.1983 10.1347C30.0908 9.97518 29.769 9.54581 29.5748 9.35512C29.0546 8.82937 28.4342 8.44115 27.7565 8.20603C28.5087 7.33556 28.9653 6.20278 28.9653 4.96481C28.9653 2.22731 26.7381 9.15527e-05 24.0005 9.15527e-05C21.263 9.15527e-05 19.0358 2.22722 19.0358 4.96481C19.0358 6.20287 19.4924 7.33565 20.2446 8.20612C19.5667 8.44125 18.9461 8.82965 18.4258 9.35559C18.2315 9.54637 17.9103 9.97509 17.8025 10.1352L14.387 15.014H9.08454C7.47129 15.014 6.15973 16.2364 6.06457 17.8101C6.06064 17.8463 6.05811 17.883 6.05811 17.9204V30.228C6.0582 40.0274 14.0307 48 23.8303 48H24.1693C33.9689 48 41.9414 40.0274 41.9414 30.2279V18.0636C41.9423 18.0237 41.9411 17.8947 41.9408 17.8851ZM24.0005 1.986C25.643 1.986 26.9793 3.32231 26.9793 4.96481C26.9793 6.60731 25.643 7.94362 24.0005 7.94362C22.358 7.94362 21.0216 6.60731 21.0216 4.96481C21.0216 3.32231 22.3579 1.986 24.0005 1.986ZM9.08454 16.9997H14.904C15.228 16.9997 15.5316 16.8416 15.7174 16.5762L19.4349 11.2658C19.444 11.2527 19.4484 11.2464 19.4569 11.2329C19.5102 11.1532 19.7358 10.8601 19.8134 10.776C19.8199 10.7697 19.8262 10.7635 19.8325 10.7571C20.358 10.2234 21.0593 9.92953 21.8072 9.92953H26.1935C26.9413 9.92953 27.6425 10.2233 28.1679 10.757C28.1743 10.7633 28.1808 10.7698 28.1872 10.7759C28.2647 10.8598 28.4901 11.1526 28.5389 11.2254C28.5473 11.2388 28.556 11.2521 28.5652 11.265L32.2833 16.5761C32.4691 16.8415 32.7726 16.9996 33.0966 16.9996H38.9161C39.4683 16.9996 39.9326 17.4246 39.9553 17.9484V18.001C39.953 18.2569 39.8564 18.4974 39.6783 18.682C39.4895 18.8778 39.2356 18.9856 38.9636 18.9856H32.0627C31.739 18.9856 31.4349 18.8273 31.2493 18.562L30.7713 17.8792C30.5227 17.5242 30.0726 17.3715 29.6593 17.5016C29.246 17.632 28.9649 18.0153 28.9649 18.4486V38.6255C28.9649 39.162 28.5284 39.5986 27.9918 39.5986H27.952C27.4154 39.5986 26.9789 39.1621 26.9789 38.6255V27.4793C26.9789 25.8477 25.6515 24.5204 24.02 24.5204H23.9802C22.3486 24.5204 21.0213 25.8478 21.0213 27.4793V38.6256C21.0213 39.162 20.5848 39.5987 20.0481 39.5987H20.0084C19.4718 39.5987 19.0353 39.1622 19.0353 38.6256V22.6369H21.99C22.5384 22.6369 22.9829 22.1922 22.9829 21.644C22.9829 21.0957 22.5383 20.6511 21.99 20.6511H19.0353V18.4488C19.0353 18.0155 18.7542 17.6321 18.3409 17.5018C17.9276 17.3718 17.4775 17.5243 17.2289 17.8793L16.7508 18.5623C16.5651 18.8274 16.261 18.9858 15.9374 18.9858H9.03645C8.76457 18.9858 8.51079 18.878 8.32179 18.6822C8.13307 18.4867 8.03445 18.2286 8.0442 17.9557C8.06342 17.4285 8.52992 16.9997 9.08454 16.9997ZM39.9556 30.2279C39.9556 38.9326 32.8739 46.0143 24.1693 46.0143H23.8303C15.1257 46.0143 8.04401 38.9326 8.04401 30.228V20.8026C8.35836 20.9133 8.69267 20.9715 9.03692 20.9715H15.9379C16.324 20.9715 16.7009 20.8963 17.0498 20.7559V38.6256C17.0498 40.2573 18.3772 41.5846 20.0088 41.5846H20.0485C21.6801 41.5846 23.0075 40.2572 23.0075 38.6256V27.4793C23.0075 26.9429 23.444 26.5062 23.9806 26.5062H24.0203C24.557 26.5062 24.9935 26.9427 24.9935 27.4793V38.6256C24.9935 40.2572 26.3209 41.5845 27.9524 41.5845H27.9921C29.6238 41.5845 30.9511 40.2571 30.9511 38.6256V20.7559C31.3 20.8964 31.6768 20.9714 32.063 20.9714H38.9639C39.3077 20.9714 39.6416 20.9133 39.9556 20.8029V30.2279Z"
        fill="white"
      />
      <path
        d="M25.78 22.6369H25.8793C26.4277 22.6369 26.8722 22.1922 26.8722 21.644C26.8722 21.0957 26.4276 20.6511 25.8793 20.6511H25.78C25.2316 20.6511 24.7871 21.0957 24.7871 21.644C24.7871 22.1922 25.2316 22.6369 25.78 22.6369Z"
        fill="white"
      />
    </svg>
  );
}

function StrengthIcon(): JSX.Element {
  return (
    <svg width="80" height="100" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
      <g clip-path="url(#clip0_159_1486)">
        <path
          d="M0.945995 27.3877H5.42899V22.6693C5.42899 21.2437 6.58873 20.0838 8.01448 20.0838H11.0532C11.2937 20.0838 11.5258 20.1193 11.7468 20.1811V19.2293C11.7468 17.8037 12.9066 16.6438 14.3323 16.6438H19.3521C20.7777 16.6438 21.9376 17.8036 21.9376 19.2293V27.3877H42.0627V19.2293C42.0627 17.8037 43.2224 16.6438 44.6482 16.6438H49.6679C51.0935 16.6438 52.2534 17.8036 52.2534 19.2293V20.1811C52.4745 20.1193 52.7065 20.0838 52.947 20.0838H55.9855C57.4111 20.0838 58.571 21.2436 58.571 22.6693V27.3877H63.0541C63.5766 27.3877 64 27.8112 64 28.3336V35.6664C64 36.1888 63.5766 36.6123 63.0541 36.6123H58.571V41.3307C58.571 42.7563 57.4113 43.9162 55.9855 43.9162H52.9469C52.7064 43.9162 52.4743 43.8805 52.2533 43.8189V44.7706C52.2533 46.1963 51.0935 47.3561 49.6678 47.3561H44.648C43.2224 47.3561 42.0625 46.1963 42.0625 44.7706V36.6123H21.9373V44.7706C21.9373 46.1963 20.7775 47.3561 19.3518 47.3561H14.3321C12.9065 47.3561 11.7466 46.1964 11.7466 44.7706V43.8189C11.5255 43.8807 11.2935 43.9162 11.053 43.9162H8.01423C6.58861 43.9162 5.42873 42.7564 5.42873 41.3307V36.6123H0.945747C0.423248 36.6123 -0.0001297 36.1888 -0.0001297 35.6664V28.3336C0.00012207 27.8112 0.423496 27.3877 0.945995 27.3877ZM58.571 34.7205H62.1081V29.2794H58.571V34.7205ZM52.2533 41.3308C52.2533 41.7132 52.5644 42.0244 52.9469 42.0244H55.9855C56.3679 42.0244 56.6791 41.7133 56.6791 41.3308V35.6664V28.3336V22.6692C56.6791 22.2867 56.3679 21.9756 55.9855 21.9756H52.9469C52.5644 21.9756 52.2533 22.2867 52.2533 22.6692V41.3308ZM43.9545 28.3337V35.6665V44.7706C43.9545 45.1531 44.2658 45.4643 44.6482 45.4643H49.6679C50.0503 45.4643 50.3615 45.1531 50.3615 44.7706V41.3307V22.6692V19.2293C50.3615 18.8468 50.0503 18.5357 49.6679 18.5357H44.6482C44.2658 18.5357 43.9545 18.8468 43.9545 19.2293V28.3337ZM21.9376 34.7205H42.0627V29.2794H21.9376V34.7205ZM13.6386 22.6691V41.3307V44.7708C13.6386 45.1533 13.9498 45.4644 14.3322 45.4644H19.352C19.7343 45.4644 20.0456 45.1533 20.0456 44.7708V35.6665V28.3337V19.2294C20.0456 18.8469 19.7343 18.5358 19.352 18.5358H14.3322C13.9498 18.5358 13.6386 18.8469 13.6386 19.2294V22.6691ZM7.32073 28.3336V35.6664V41.3308C7.32073 41.7133 7.63198 42.0244 8.01436 42.0244H11.0531C11.4355 42.0244 11.7467 41.7133 11.7467 41.3308V22.6692C11.7467 22.2867 11.4355 21.9756 11.0531 21.9756H8.01436C7.63198 21.9756 7.32073 22.2867 7.32073 22.6692V28.3336ZM1.89199 34.7205H5.42899V29.2794H1.89199V34.7205Z"
          fill="white"
        />
      </g>
      <defs>
        <clipPath id="clip0_159_1486">
          <rect width="64" height="64" fill="white" transform="matrix(-1 0 0 1 64 0)" />
        </clipPath>
      </defs>
    </svg>
  );
}

export default function MobileFilterLayout() {
  const [isPopupUpOpen, setIsPopupOpen] = useState(false);

  const resultsCount = useAnswersState((state) => state.vertical.resultsCount);

  const toggleFilterPopup = () => setIsPopupOpen(!isPopupUpOpen);

  return (
    <div>
      <MobileFilterButton onClick={() => toggleFilterPopup()} />
      {isPopupUpOpen && (
        <div className="fixed top-0 left-0 right-0 z-10 h-full w-full bg-black sm:top-0">
          <div className="my-8 flex w-full justify-center font-heading text-4xl text-white">Filter</div>
          <Divider />
          <Facets
            customCssClasses={{
              label: 'text-5xl font-heading text-gold text-left',
              container: 'md:w-40 ml-8',
              divider: 'bg-transparent',
              labelContainer: 'my-6',
              option: 'flex items-center space-x-3 ml-8',
              optionInput:
                'w-8 h-8 form-checkbox cursor-pointer border border-gray-300 rounded-sm text-gold focus:ring-gold',
              optionLabel: 'text-white text-heading text-4xl my-4',
            }}
            cssCompositionMethod="assign"
            searchOnChange={true}
            defaultExpanded={true}
            facetConfigs={{
              'c_location.neighborhood': { label: 'GYM LOCATION' },
              c_classType: {
                label: 'ACTIVITY',
                type: 'image',
                facetImages: {
                  Boxing: BoxingIcon(),
                  Yoga: YogaIcon(),
                  HIIT: HiitIcon(),
                  Strength: StrengthIcon(),
                  other: BoxingIcon(),
                },
                facetCss: {
                  optionsContainer: 'grid grid-cols-2 gap-16 mr-8 ml-8',
                  label: 'text-5xl font-heading text-gold text-left',
                  labelContainer: 'my-8',
                },
              },
            }}
          />
          <div className="absolute bottom-4 flex w-full flex-col items-center">
            <Divider />
            <div
              className="flex h-20 w-5/6 items-center justify-center rounded-3xl border-4"
              onClick={() => toggleFilterPopup()}>
              <div className="text-center font-heading text-4xl text-white">{`VIEW ${resultsCount} RESULTS`}</div>
            </div>
          </div>
        </div>
      )}
    </div>
  );
}
